@import "../designer/method-base";

/*New Action Editor Manager*/

/*Action Wizard Styles*/

#propertieswindow, 
#screenActionEditor, 
#gridPropertiesWindow,
#ChartSeriesDialog,
#calendarMainPage {
  @include boxSizing;
  display: block;
  border: none;
  padding: 10px 10px 150px 10px;
  overflow-x: hidden;
}

#actionEditorMain {
  @include boxSizing;
  font-size: 14px;
  padding: 20px;
  position: relative;
  right: 0;
}

#actionWizard, #choosenActionName {
  position: relative;
  top: 10px;
  padding: 10px;
  color: #34495e;
}

#actionWizard {
  label.checkbox {
    position: relative;
    top: 1px;
    left: 6px;
    margin: 0;
  }
  #actionWizardTop {
    @include flexbox;
    @include flexjustify(flex-end);
    width:100%;

  }
  .actionItem {
    @include boxSizing;
    padding: 7px;
    background: #fff;
    border: 1px solid $card-border;
    width: 100%;
    margin-bottom: 5px;

    &:hover {
      background: lighten($m-grey, 30%) !important;
    }

  }
  .actionCategoryName {
    @include boxSizing;
    width: 100%;
    clear: both;
    &:first-child {
      padding: 0 0 15px 10px;
      margin-top: -20px;
    }
  }
  .actionName {
    display: inline-block;
    margin:0;
  }
  .actionCategoryName {
    padding-top: 10px;
    &:first-child {
      padding-top: 0;
    }
  }
  .actionChk {
    
    label {
      margin-bottom: 0 !important;
    }

    &.actionMultiple {
      display: inline-block;
      display: none;
      width: 0%;
    }
    display: inline-block;
    width: 3%;
  }
  .actionItem {
    cursor: pointer;
  }
  .actionTxt {
    color: $m-dark-grey;
    font-weight: 600;
    display: inline-block;
    width: 35%;
    padding: 5px;
    font-size: 16px;
  }
  .actionDsc {
    color: $m-dark-grey;
    font-style: italic;
    display: inline-block;
    width: 55%;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    font-size: 14px;
    position: relative;
    bottom: -2px;

  }
}

#btn_saveAction {
  display: none;
  &.actionMultiple {
    display: inline-block;
  }
}

#actionTitleBar {
  background: $white;
}

#actionButtonPane {
  background: $white;
  /* Commented out by Craig
  padding: .7em 3em .2em .4em !important;*/
  .mi-dialog-buttonset {
    span {
      margin:0 !important;

      input[type="button"],button {
        &.mi-button {
          margin: 0 0 0 10px !important;
        }
      }
    }
  }
}

#actionTitleBar {
  text-align: center;
}

#addMultipleActions {
  cursor: pointer;
  color: #3EA4EF;
  padding: 0 0 20px 0;
  // right: 0;
  // top: 0;
  // position: absolute;
  // bottom: 0;
  // height: 50%;
  // left: auto;
  // margin: auto;
}

#actionTitleBar {
  #backActionList, #backActionFromCriteria, #backWebService {
    float: left;
    position: absolute;
    left: 30px;
    top: 20px;
    cursor: pointer;
    color: #3EA4EF;
  }
  #backActionList:hover, #backActionFromCriteria:hover, #backWebService:hover {
    color: #58BEFF;
  }
  #backActionList i, #backActionFromCriteria i, #backWebService i {
    position: relative;
    top: 1px;
    right: 3px;
  }
}

/*Action Editor Styles*/

#actionEditorMain {
  .propTable {
    width: 100%;
    margin-bottom: 20px;
    border: none !important;

    td {
      border: none !important;

      &:first-of-type {
        padding: 20px 20px 20px 0 !important;
      }
    }
  }
  select {
    height: auto;
  }
 
  .propTable td {
    &:first-child {
      width: 78px;
    }
    &:nth-child(3) {
      width: 78px;
      padding-left: 60px;
    }
  }
  #actionManager {
    padding: 10px;
    /*border: 2px dashed #d6d6d6;*/
    /*background:white;*/
    /*border-radius:6px;*/
  }
  #actionTable {
    width: 100%;
    background: white;

    ol {
      border: none;
      li {
        padding: 10px;
        border: 1px solid $card-border;
        margin-bottom: 5px;
      }
    }
  }
  .actionLi {
    //cursor: url(../../img/Designer/openhand.cur), default !important;
    &:hover {
      cursor: grab;
    }
    &:active {
      cursor: grabbing;
    }
    a {
      text-decoration: none;
    }
  }
  .editAction, .ifAction {
    // position: absolute;
    // right: 48%;
    // float: right;
    // color: #8f9192;
    // font-size: 22px;
  }
  .editAction:hover, .ifAction:hover {
    color: #6fcc28;
  }
  .addAction {
    // float: right;
    // position: absolute;
    // right: 45%;
    // font-size: 25px;
    // color: #8f9192;
    // &:hover {
    //   color: #3EA4EF;
    // }
    // .icon-caret-down {
    //   position: relative;
    //   bottom: 3px;
    // }
  }
  .delAction {
    // color: #8f9192;
    // font-size: 22px;
    // float: right;
    // position: absolute;
    // right: 5%;
    // &:hover {
    //   color: #ce4538;
    // }
  }
  .placeholder {
    outline: 1px dashed #4183C4;
    background-color: #d0edf7;
    height: 40px !important;
  }
  .nestedSortable-error {
    background: #fbe3e4;
    border-color: transparent;
  }
  ol {
    margin: 0;
    padding: 0;
    padding-left: 30px;
    &.sortable {
      margin: 0 3px 0 4px;
      padding: 0;
      list-style-type: none;
    }
  }
}

ol.sortable ol {
  margin: 0 3px 0 4px;
  padding: 0;
  list-style-type: none;
}

#actionEditorMain,
#filterManager,
#drpFilterManager,
#prepareAccWrap,
#propertieswindow,
.filter-section {
  ol.ui-sortable {
    padding: 10px;
    border: 1px solid $card-border;

    &:empty {
      border: none !important;
    }

    li ol {
      margin: 10px;
      padding: 10px;
      border: 1px solid $card-border;

      li {
        border-top: none !important;
        margin-top: 0;

        ol {
          margin: 10px;
          background: lighten($m-grey, 30%);
        }
      }
    }
  }

  #actionTable {
    ol.ui-sortable {
      li ol li.actionLi {
        border-top: 1px solid $card-border !important;
        .actionTextMain {
          width: 60%;
          a { 
            font-size: 14px !important;
          }
        }
      }
    } 
  }
  // .ui-sortable li {
  //   margin: 4px 0 0 0;
  //   padding: 0;
    
  //   div {
  //     @include borderRadius;
  //     border: 1px solid $card-border;
  //     padding: 10px;
  //     margin: 0;
  //     cursor: url(../img/Designer/openhand.cur), default !important;
  //     background: $white;
  //   }

  //   .condDiv {
  //     padding: 9px 7px !important;
  //   }
  //   &.nestedSortable-branch div, &.nestedSortable-leaf div {
  //     background: #fff;
  //     text-shadow: 1px 1px 0px 0px rgba(0, 0, 0, 0.1);
  //   }
  // }
  li.nestedSortable-collapsed.nestedSortable-hovering div {
    border-color: #999;
    background: #fafafa;
  }
  .actionDisclose {
    cursor: pointer;
    width: 18px;
    line-height: 20px;
    margin-right: 20px;
  }
  .ifDiv .actionDisclose, .lpDiv .actionDisclose, .elDiv .actionDisclose {
    position: relative;
  }
  // .actionTextMain {
  //   cursor: url(../img/Designer/openhand.cur), default !important;
  //   display: inline-table;
  //   width: 55%;
  // }
  // .ifDiv .actionTextMain, .elDiv .actionTextMain {
  //   cursor: url(../img/Designer/openhand.cur), default !important;
  //   display: inline-table;
  //   width: 51.5%;
  // }
  .lpDiv {
    // .actionTextMain {
    //   cursor: url(../img/Designer/openhand.cur), default !important;
    //   display: inline-table;
    //   width: 52.2%;
    // }

    @include boxSizing;
    @include flexbox;
    @include flexjustify(flex-start);
    @include flexalignitems(center);
    position: relative;

    .actionTextMain {
      width:50%;
      
      &:hover {
        cursor: grab;
      }

      &:active {
        cursor: grabbing;
      }
      
      a {
        @include boxSizing;
        padding: 0 10px;
      }

      .actionText {
        color: $m-red;
        font-weight: bold;
        cursor: pointer;
        position: relative;
        width: 85%;
        display: inline-block;

        &.actionDone {
          color: $m-green;
        }
      }

      .actionNote {
        color: #34495E;
        font-size: 14px;
        margin-left: 23px;
        position: relative;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        width: 35%;
        display: inline-block;

        &:empty {
          display: none;
        }
      }
    }
    .delAction {
      position: absolute;
      right: 20px;
    }
  }
  .ifDiv .actionText {
    color: $pink;
    font-weight: bold;
    cursor: pointer;
    position: relative;
  }
  .liDiv .actionText {
    color: $pink;
    font-weight: bold;
    cursor: pointer;
    position: relative;
  }
  .elDiv .actionText {
    position: relative;

  }

  .ifDiv,.liDiv,.elDiv,.condDiv {
    @include boxSizing;
    @include flexbox;
    @include flexjustify(flex-start);
    @include flexalignitems(center);
    position: relative;
    
    .actionTextMain {
      
      width: 50%;

      .actionText {
        color: $pink;
        font-weight: bold;
        cursor: pointer;
        position: relative;
        width:85%;
        display: inline-block;
        &.actionDone {
          color: $dark-grey;
        }
      }

      a {
        @include boxSizing;
        padding: 0 10px;
        color: $dark-grey;

        &:hover {
          color: $blue !important;
        }
      }
    }

    .delAction {
      position: absolute;
      right:20px;
    }

    .icon {
      font-size: 16px !important;
    }
  }
  .actionText.actionDone {
    color: #34495E;
    font-weight: bold;
  }
  .actionNote {
    color: #34495E;
    font-size: 14px;
    margin-left: 23px;
    position: relative;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    width: 35%;
    display: inline-block;

    &:empty {
      display: none;
    }
  }
  .condDiv .actionNote {
    position: relative;
    top: 2px;
    width: 40%;
    margin-left: 0;
  }
}

#columnActionEditor #actionEditorMain .actionNote {
  color: #999;
  font-size: 14px;
  margin-left: 20px;
  position: relative;
  top: 0px;
}

#actionEditorMain .sortable li {
  &.nestedSortable-collapsed > ol {
    display: none;
  }
  &.nestedSortable-branch > div > .actionDisclose {
    display: inline-block;
    font-family: 'method-icon';
  }
  &.nestedSortable-collapsed > div > .actionDisclose > span:before {
    content: "\e781";
  }
  &.nestedSortable-expanded > div > .actionDisclose > span:before {
    content: "\e786";
  }
}

#addAnotherAction {
  @include boxSizing;
  color: #3EA4EF;
  cursor: pointer;
  font-size: 14px !important;
  font-family: 'method-font','method-icon','method-icon-solid';
  padding: 20px;
  &:hover {
    color: #58BEFF;
  }
  &:before {
    margin-right: 10px;
  }
}

/*Action Context Menu*/

.action-menu-override {
  padding: 0 !important;

  #actionMenu {
    min-height: 70px !important;
    max-height: inherit !important;
    height: inherit !important;

    p {
      padding: 5px !important;
    }
  }
}

#actionMenu {
  border: 2px solid #d4d4d4;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  border-color: #D4D4D4 #D4D4D4 #BCBCBC;
  background: white;
  #copyAction, #pasteAction, #appendAction {
    cursor: pointer;
    font-size: 14px;
    color: #3EA4EF;
  }
  #copyAction:hover, #pasteAction:hover, #appendAction:hover {
    color: #58BEFF;
  }

  &.sub-menu {
    @include flexdirection(column);

    p {
      @include flex(1);
      display: block;
      min-width: 100% !important;
      max-width: 100%;
      width: 100%;
    }
  }
}

/*//////////////////////////////Action Filter////////////////////*/

.actionsearch {
  /*background: #e9edf1;*/
  @include boxSizing;
  @include flexbox;
  @include flexjustify(flex-end);
  @include flexalignitems(flex-end);
  @include flexdirection(column);
  width: 50%;
  position: relative;

  // .action-search-box-inner {
  //   width: 50%;
  //   position: relative;

  //   input[type="text"] {
  //     box-shadow: none;
  //     border: 3px solid $light-grey-blue;
  //     padding: 0.4em 0.25em 0.4em 0.6em;
  //     color: $light-grey-blue-dark20;
  //     font-size: $font-normal;
  //     margin: .6em 0 .65em 0;
  //     width: 100%;

  //     @include placeholder { color:$light-grey-blue-dark20 !important;}


  //     &:focus {
  //       border: 3px solid $light-grey-blue-dark20;
  //     }
  //   }

  //   .span-icon-remove {
  //     position: absolute;
  //     height:50%;
  //     margin:auto;
  //     right: 0.5em;
  //     left: auto;
  //     color: $light-grey-blue-dark20;
  //     font-size: $font-normal;
  //     padding: 0.85em 0 0;
  //     top: 0;
  //     bottom:0;

  //     &:hover {
  //       cursor: pointer;
  //       color: $light-grey-blue-dark30;
  //     }


  //   }
  // }

  .searchbar-inner {
      //@extend %search-box-inner;
      @include boxSizing;
      @include flexbox;
      @include flexjustify(space-between);
      @include flexalignitems(center);
      width: 100%;

      &:before {
        content: "" !important;
        display: none !important;
      }

      float: none !important;
      text-align: right;
      border: 1px solid $card-border !important;
      margin:0 !important;
      padding-left: 10px;
      //  Search input field

      .left-wrapper {
        @include flex(1 1 auto);
        @include flexalignself(stretch);
        display: block;
          overflow: hidden;
          padding:10px;
      }

      input[type="search"] {
         
          border:none !important;
          // width:100% !important;
          background: transparent;
          // max-width: 95% !important;
          margin:0 !important;
          padding:0 !important;
          padding-right: 0 !important;
          overflow: hidden;
          // height: 2em !important;
          width: 100%;
          float: none;
          line-height: $base-line-height;

          @include placeholder {
              color: $grey;
              font-weight: normal;
          }
      }

      //  Inner close button for mobile portrait view [X].
      
      button {
        float: right;
        margin: 0;
        line-height: 1.34 !important;   

      }

      p {

        &.mi-closebutton-inner {
          display: none;
        }
      }
  }
      
  //  Search button

  .mi-grid-lookup-button-simple {
    @include borderRadius(0 1px 1px 0);
    margin: 0;
    padding: 10px 20px !important;
    min-width: auto !important;
    font-weight: 600;
  }

}

@media screen and (-webkit-min-device-pixel-ratio: 0) {
  .actionsearch input[type="text"] {
    margin: .6em 0 .75em 0;
  }
}


// @media screen and (-webkit-min-device-pixel-ratio: 0) {
//   .actionsearch .span-icon-remove {
//     position: absolute;
//     top: 15px;
//     left: 28%;
//   }
// }

.actionItemHide {
  display: none;
}
